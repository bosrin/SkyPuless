{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{User,ChevronDown,LogOut,LogIn,Settings,Grid,LifeBuoy}from\"lucide-react\";import{useNavigate}from\"react-router-dom\";import\"./ProfileMenu.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProfileMenu=_ref=>{let{user,setUser}=_ref;const[open,setOpen]=useState(false);const menuRef=useRef(null);const navigate=useNavigate();useEffect(()=>{const handleClickOutside=e=>{if(menuRef.current&&!menuRef.current.contains(e.target)){setOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);// Sign in\nconst handleSignIn=()=>{const name=prompt(\"Enter your name to log in:\");if(name&&name.trim()!==\"\"){setUser({name:name.trim()});navigate(\"/\");// লগইনের পর হোমে নিয়ে যাবে\n}};// Sign out\nconst handleSignOut=()=>{setUser(null);navigate(\"/\");};// Navigation handlers\nconst goToDashboard=()=>{navigate(\"/\");// ✅ এখন ড্যাশবোর্ডে ক্লিক করলে হোম পেজে নিয়ে যাবে\nsetOpen(false);};const goToSettings=()=>{navigate(\"/settings\");setOpen(false);};const goToHelp=()=>{navigate(\"/help\");setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu\",ref:menuRef,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"profile-btn\",onClick:()=>setOpen(!open),children:[/*#__PURE__*/_jsx(User,{size:18}),\" \",user?user.name:\"Guest\",\" \",/*#__PURE__*/_jsx(ChevronDown,{size:14})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-header\",children:[/*#__PURE__*/_jsx(User,{size:22}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Hi, \",user.name,\"!\"]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-links\",children:[/*#__PURE__*/_jsxs(\"li\",{onClick:goToDashboard,children:[/*#__PURE__*/_jsx(Grid,{size:16}),\" Dashboard\"]}),/*#__PURE__*/_jsxs(\"li\",{onClick:goToSettings,children:[/*#__PURE__*/_jsx(Settings,{size:16}),\" Settings\"]}),/*#__PURE__*/_jsxs(\"li\",{onClick:goToHelp,children:[/*#__PURE__*/_jsx(LifeBuoy,{size:16}),\" Help & Support\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"signout-btn\",onClick:handleSignOut,children:[/*#__PURE__*/_jsx(LogOut,{size:16}),\" Sign Out\"]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-login\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You are not logged in.\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"login-btn\",onClick:handleSignIn,children:[/*#__PURE__*/_jsx(LogIn,{size:16}),\" Sign In\"]})]})})]});};export default ProfileMenu;","map":{"version":3,"names":["React","useState","useRef","useEffect","User","ChevronDown","LogOut","LogIn","Settings","Grid","LifeBuoy","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileMenu","_ref","user","setUser","open","setOpen","menuRef","navigate","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleSignIn","name","prompt","trim","handleSignOut","goToDashboard","goToSettings","goToHelp","className","ref","children","onClick","size"],"sources":["C:/project-file/weathermate/frontend/src/Components/ProfileMenu/ProfileMenu.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  User,\r\n  ChevronDown,\r\n  LogOut,\r\n  LogIn,\r\n  Settings,\r\n  Grid,\r\n  LifeBuoy,\r\n} from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./ProfileMenu.css\";\r\n\r\nconst ProfileMenu = ({ user, setUser }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const menuRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  // Sign in\r\n  const handleSignIn = () => {\r\n    const name = prompt(\"Enter your name to log in:\");\r\n    if (name && name.trim() !== \"\") {\r\n      setUser({ name: name.trim() });\r\n      navigate(\"/\"); // লগইনের পর হোমে নিয়ে যাবে\r\n    }\r\n  };\r\n\r\n  // Sign out\r\n  const handleSignOut = () => {\r\n    setUser(null);\r\n    navigate(\"/\");\r\n  };\r\n\r\n  // Navigation handlers\r\n  const goToDashboard = () => {\r\n    navigate(\"/\"); // ✅ এখন ড্যাশবোর্ডে ক্লিক করলে হোম পেজে নিয়ে যাবে\r\n    setOpen(false);\r\n  };\r\n\r\n  const goToSettings = () => {\r\n    navigate(\"/settings\");\r\n    setOpen(false);\r\n  };\r\n\r\n  const goToHelp = () => {\r\n    navigate(\"/help\");\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-menu\" ref={menuRef}>\r\n      <button className=\"profile-btn\" onClick={() => setOpen(!open)}>\r\n        <User size={18} /> {user ? user.name : \"Guest\"} <ChevronDown size={14} />\r\n      </button>\r\n\r\n      {open && (\r\n        <div className=\"dropdown-menu\">\r\n          {user ? (\r\n            <>\r\n              <div className=\"dropdown-header\">\r\n                <User size={22} /> <span>Hi, {user.name}!</span>\r\n              </div>\r\n\r\n              <ul className=\"dropdown-links\">\r\n                <li onClick={goToDashboard}>\r\n                  <Grid size={16} /> Dashboard\r\n                </li>\r\n                <li onClick={goToSettings}>\r\n                  <Settings size={16} /> Settings\r\n                </li>\r\n                <li onClick={goToHelp}>\r\n                  <LifeBuoy size={16} /> Help & Support\r\n                </li>\r\n              </ul>\r\n\r\n              <div className=\"dropdown-footer\">\r\n                <button className=\"signout-btn\" onClick={handleSignOut}>\r\n                  <LogOut size={16} /> Sign Out\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"dropdown-login\">\r\n              <p>You are not logged in.</p>\r\n              <button className=\"login-btn\" onClick={handleSignIn}>\r\n                <LogIn size={16} /> Sign In\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}