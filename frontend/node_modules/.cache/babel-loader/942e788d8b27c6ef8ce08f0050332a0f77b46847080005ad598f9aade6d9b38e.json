{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./Dashboard.css\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{city}=_ref;const API_KEY=\"97bfa96f153a4b679fc124940251110\";const[weather,setWeather]=useState(null);const[forecast,setForecast]=useState([]);const[hourly,setHourly]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");useEffect(()=>{if(!city)return;const fetchWeather=async()=>{setLoading(true);setError(\"\");try{// Fetch current weather + 7-day forecast\nconst res=await fetch(\"https://api.weatherapi.com/v1/forecast.json?key=\".concat(API_KEY,\"&q=\").concat(city,\"&days=7&aqi=no&alerts=no\"));if(!res.ok)throw new Error(\"Failed to fetch weather data.\");const data=await res.json();setWeather(data);setForecast(data.forecast.forecastday);// 7-day forecast\nsetHourly(data.forecast.forecastday[0].hour);// today's hourly forecast\n}catch(err){console.error(err);setError(\"Unable to fetch weather data. Please try again.\");setWeather(null);setForecast([]);setHourly([]);}finally{setLoading(false);}};fetchWeather();},[city]);const formatTime=time=>{const date=new Date(time);return date.toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"dashboard__title\",children:[\"Live Weather in \",city||\"Your City\"]}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"dashboard__loading\",children:\"Loading weather data...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"dashboard__error\",children:error}),weather&&!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[weather.location.name,\", \",weather.location.country]}),/*#__PURE__*/_jsx(\"p\",{children:new Date(weather.location.localtime).toDateString()}),/*#__PURE__*/_jsx(\"p\",{children:weather.current.condition.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-main\",children:[/*#__PURE__*/_jsx(\"img\",{src:weather.current.condition.icon,alt:weather.current.condition.text,className:\"weather-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"temp-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[weather.current.temp_c,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Feels like \",weather.current.feelslike_c,\"\\xB0C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-stats\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Humidity: \",weather.current.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Wind: \",weather.current.wind_kph,\" km/h\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precipitation: \",weather.current.precip_mm,\" mm\"]})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"forecast-title\",children:\"Hourly Forecast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hourly-forecast\",children:hourly.map(hour=>/*#__PURE__*/_jsxs(\"div\",{className:\"hour-card\",children:[/*#__PURE__*/_jsx(\"p\",{children:formatTime(hour.time)}),/*#__PURE__*/_jsx(\"img\",{src:hour.condition.icon,alt:hour.condition.text,className:\"hour-icon\"}),/*#__PURE__*/_jsxs(\"p\",{children:[hour.temp_c,\"\\xB0C\"]})]},hour.time))}),/*#__PURE__*/_jsx(\"h3\",{className:\"forecast-title\",children:\"7-Day Forecast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast-container\",children:forecast.map(day=>/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"forecast-date\",children:day.date}),/*#__PURE__*/_jsx(\"img\",{src:day.day.condition.icon,alt:day.day.condition.text,className:\"forecast-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:day.day.condition.text}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Max: \",day.day.maxtemp_c,\"\\xB0C | Min: \",day.day.mintemp_c,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Humidity: \",day.day.avghumidity,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precipitation: \",day.day.totalprecip_mm,\" mm\"]})]},day.date))})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_ref","city","API_KEY","weather","setWeather","forecast","setForecast","hourly","setHourly","loading","setLoading","error","setError","fetchWeather","res","fetch","concat","ok","Error","data","json","forecastday","hour","err","console","formatTime","time","date","Date","toLocaleTimeString","minute","className","children","location","name","country","localtime","toDateString","current","condition","text","src","icon","alt","temp_c","feelslike_c","humidity","wind_kph","precip_mm","map","day","maxtemp_c","mintemp_c","avghumidity","totalprecip_mm"],"sources":["C:/project-file/weathermate/frontend/src/Components/Dashboard/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Dashboard.css\";\r\n\r\nconst Dashboard = ({ city }) => {\r\n  const API_KEY = \"97bfa96f153a4b679fc124940251110\";\r\n  const [weather, setWeather] = useState(null);\r\n  const [forecast, setForecast] = useState([]);\r\n  const [hourly, setHourly] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!city) return;\r\n\r\n    const fetchWeather = async () => {\r\n      setLoading(true);\r\n      setError(\"\");\r\n      try {\r\n        // Fetch current weather + 7-day forecast\r\n        const res = await fetch(\r\n          `https://api.weatherapi.com/v1/forecast.json?key=${API_KEY}&q=${city}&days=7&aqi=no&alerts=no`\r\n        );\r\n        if (!res.ok) throw new Error(\"Failed to fetch weather data.\");\r\n        const data = await res.json();\r\n        setWeather(data);\r\n        setForecast(data.forecast.forecastday); // 7-day forecast\r\n        setHourly(data.forecast.forecastday[0].hour); // today's hourly forecast\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(\"Unable to fetch weather data. Please try again.\");\r\n        setWeather(null);\r\n        setForecast([]);\r\n        setHourly([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchWeather();\r\n  }, [city]);\r\n\r\n  const formatTime = (time) => {\r\n    const date = new Date(time);\r\n    return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2 className=\"dashboard__title\">Live Weather in {city || \"Your City\"}</h2>\r\n\r\n      {loading && <p className=\"dashboard__loading\">Loading weather data...</p>}\r\n      {error && <p className=\"dashboard__error\">{error}</p>}\r\n\r\n      {weather && !loading && !error && (\r\n        <>\r\n          {/* Current Weather */}\r\n          <div className=\"weather-card\">\r\n            <div className=\"weather-header\">\r\n              <h3>\r\n                {weather.location.name}, {weather.location.country}\r\n              </h3>\r\n              <p>{new Date(weather.location.localtime).toDateString()}</p>\r\n              <p>{weather.current.condition.text}</p>\r\n            </div>\r\n\r\n            <div className=\"weather-main\">\r\n              <img\r\n                src={weather.current.condition.icon}\r\n                alt={weather.current.condition.text}\r\n                className=\"weather-icon\"\r\n              />\r\n              <div className=\"temp-info\">\r\n                <h2>{weather.current.temp_c}°C</h2>\r\n                <p>Feels like {weather.current.feelslike_c}°C</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"weather-stats\">\r\n              <p>Humidity: {weather.current.humidity}%</p>\r\n              <p>Wind: {weather.current.wind_kph} km/h</p>\r\n              <p>Precipitation: {weather.current.precip_mm} mm</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Hourly Forecast */}\r\n          <h3 className=\"forecast-title\">Hourly Forecast</h3>\r\n          <div className=\"hourly-forecast\">\r\n            {hourly.map((hour) => (\r\n              <div key={hour.time} className=\"hour-card\">\r\n                <p>{formatTime(hour.time)}</p>\r\n                <img\r\n                  src={hour.condition.icon}\r\n                  alt={hour.condition.text}\r\n                  className=\"hour-icon\"\r\n                />\r\n                <p>{hour.temp_c}°C</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* 7-Day Forecast */}\r\n          <h3 className=\"forecast-title\">7-Day Forecast</h3>\r\n          <div className=\"forecast-container\">\r\n            {forecast.map((day) => (\r\n              <div key={day.date} className=\"forecast-card\">\r\n                <p className=\"forecast-date\">{day.date}</p>\r\n                <img\r\n                  src={day.day.condition.icon}\r\n                  alt={day.day.condition.text}\r\n                  className=\"forecast-icon\"\r\n                />\r\n                <p>{day.day.condition.text}</p>\r\n                <p>Max: {day.day.maxtemp_c}°C | Min: {day.day.mintemp_c}°C</p>\r\n                <p>Humidity: {day.day.avghumidity}%</p>\r\n                <p>Precipitation: {day.day.totalprecip_mm} mm</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,iBAAiB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACzB,KAAM,CAAAE,OAAO,CAAG,iCAAiC,CACjD,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACoB,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,GAAI,CAACS,IAAI,CAAE,OAEX,KAAM,CAAAY,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BH,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF;AACA,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,oDAAAC,MAAA,CAC8Bd,OAAO,QAAAc,MAAA,CAAMf,IAAI,4BACtE,CAAC,CACD,GAAI,CAACa,GAAG,CAACG,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,+BAA+B,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAC,CAAC,CAC7BhB,UAAU,CAACe,IAAI,CAAC,CAChBb,WAAW,CAACa,IAAI,CAACd,QAAQ,CAACgB,WAAW,CAAC,CAAE;AACxCb,SAAS,CAACW,IAAI,CAACd,QAAQ,CAACgB,WAAW,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAE;AAChD,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACb,KAAK,CAACY,GAAG,CAAC,CAClBX,QAAQ,CAAC,iDAAiD,CAAC,CAC3DR,UAAU,CAAC,IAAI,CAAC,CAChBE,WAAW,CAAC,EAAE,CAAC,CACfE,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACZ,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAwB,UAAU,CAAIC,IAAI,EAAK,CAC3B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,IAAI,CAAC,CAC3B,MAAO,CAAAC,IAAI,CAACE,kBAAkB,CAAC,EAAE,CAAE,CAAEP,IAAI,CAAE,SAAS,CAAEQ,MAAM,CAAE,SAAU,CAAC,CAAC,CAC5E,CAAC,CAED,mBACEpC,KAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtC,KAAA,OAAIqC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,kBAAgB,CAAC/B,IAAI,EAAI,WAAW,EAAK,CAAC,CAE1EQ,OAAO,eAAIb,IAAA,MAAGmC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yBAAuB,CAAG,CAAC,CACxErB,KAAK,eAAIf,IAAA,MAAGmC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAErB,KAAK,CAAI,CAAC,CAEpDR,OAAO,EAAI,CAACM,OAAO,EAAI,CAACE,KAAK,eAC5BjB,KAAA,CAAAI,SAAA,EAAAkC,QAAA,eAEEtC,KAAA,QAAKqC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtC,KAAA,QAAKqC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtC,KAAA,OAAAsC,QAAA,EACG7B,OAAO,CAAC8B,QAAQ,CAACC,IAAI,CAAC,IAAE,CAAC/B,OAAO,CAAC8B,QAAQ,CAACE,OAAO,EAChD,CAAC,cACLvC,IAAA,MAAAoC,QAAA,CAAI,GAAI,CAAAJ,IAAI,CAACzB,OAAO,CAAC8B,QAAQ,CAACG,SAAS,CAAC,CAACC,YAAY,CAAC,CAAC,CAAI,CAAC,cAC5DzC,IAAA,MAAAoC,QAAA,CAAI7B,OAAO,CAACmC,OAAO,CAACC,SAAS,CAACC,IAAI,CAAI,CAAC,EACpC,CAAC,cAEN9C,KAAA,QAAKqC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BpC,IAAA,QACE6C,GAAG,CAAEtC,OAAO,CAACmC,OAAO,CAACC,SAAS,CAACG,IAAK,CACpCC,GAAG,CAAExC,OAAO,CAACmC,OAAO,CAACC,SAAS,CAACC,IAAK,CACpCT,SAAS,CAAC,cAAc,CACzB,CAAC,cACFrC,KAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtC,KAAA,OAAAsC,QAAA,EAAK7B,OAAO,CAACmC,OAAO,CAACM,MAAM,CAAC,OAAE,EAAI,CAAC,cACnClD,KAAA,MAAAsC,QAAA,EAAG,aAAW,CAAC7B,OAAO,CAACmC,OAAO,CAACO,WAAW,CAAC,OAAE,EAAG,CAAC,EAC9C,CAAC,EACH,CAAC,cAENnD,KAAA,QAAKqC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BtC,KAAA,MAAAsC,QAAA,EAAG,YAAU,CAAC7B,OAAO,CAACmC,OAAO,CAACQ,QAAQ,CAAC,GAAC,EAAG,CAAC,cAC5CpD,KAAA,MAAAsC,QAAA,EAAG,QAAM,CAAC7B,OAAO,CAACmC,OAAO,CAACS,QAAQ,CAAC,OAAK,EAAG,CAAC,cAC5CrD,KAAA,MAAAsC,QAAA,EAAG,iBAAe,CAAC7B,OAAO,CAACmC,OAAO,CAACU,SAAS,CAAC,KAAG,EAAG,CAAC,EACjD,CAAC,EACH,CAAC,cAGNpD,IAAA,OAAImC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACnDpC,IAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC7BzB,MAAM,CAAC0C,GAAG,CAAE3B,IAAI,eACf5B,KAAA,QAAqBqC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxCpC,IAAA,MAAAoC,QAAA,CAAIP,UAAU,CAACH,IAAI,CAACI,IAAI,CAAC,CAAI,CAAC,cAC9B9B,IAAA,QACE6C,GAAG,CAAEnB,IAAI,CAACiB,SAAS,CAACG,IAAK,CACzBC,GAAG,CAAErB,IAAI,CAACiB,SAAS,CAACC,IAAK,CACzBT,SAAS,CAAC,WAAW,CACtB,CAAC,cACFrC,KAAA,MAAAsC,QAAA,EAAIV,IAAI,CAACsB,MAAM,CAAC,OAAE,EAAG,CAAC,GAPdtB,IAAI,CAACI,IAQV,CACN,CAAC,CACC,CAAC,cAGN9B,IAAA,OAAImC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAClDpC,IAAA,QAAKmC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAChC3B,QAAQ,CAAC4C,GAAG,CAAEC,GAAG,eAChBxD,KAAA,QAAoBqC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3CpC,IAAA,MAAGmC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEkB,GAAG,CAACvB,IAAI,CAAI,CAAC,cAC3C/B,IAAA,QACE6C,GAAG,CAAES,GAAG,CAACA,GAAG,CAACX,SAAS,CAACG,IAAK,CAC5BC,GAAG,CAAEO,GAAG,CAACA,GAAG,CAACX,SAAS,CAACC,IAAK,CAC5BT,SAAS,CAAC,eAAe,CAC1B,CAAC,cACFnC,IAAA,MAAAoC,QAAA,CAAIkB,GAAG,CAACA,GAAG,CAACX,SAAS,CAACC,IAAI,CAAI,CAAC,cAC/B9C,KAAA,MAAAsC,QAAA,EAAG,OAAK,CAACkB,GAAG,CAACA,GAAG,CAACC,SAAS,CAAC,eAAU,CAACD,GAAG,CAACA,GAAG,CAACE,SAAS,CAAC,OAAE,EAAG,CAAC,cAC9D1D,KAAA,MAAAsC,QAAA,EAAG,YAAU,CAACkB,GAAG,CAACA,GAAG,CAACG,WAAW,CAAC,GAAC,EAAG,CAAC,cACvC3D,KAAA,MAAAsC,QAAA,EAAG,iBAAe,CAACkB,GAAG,CAACA,GAAG,CAACI,cAAc,CAAC,KAAG,EAAG,CAAC,GAVzCJ,GAAG,CAACvB,IAWT,CACN,CAAC,CACC,CAAC,EACN,CACH,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}